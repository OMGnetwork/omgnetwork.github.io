<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Make a Transfer · OMG Network</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="A transfer involves one wallet sending tokens to another wallet on the OMG Network."/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Make a Transfer · OMG Network"/><meta property="og:type" content="website"/><meta property="og:url" content="https://omgnetwork.github.io/"/><meta property="og:description" content="A transfer involves one wallet sending tokens to another wallet on the OMG Network."/><meta property="og:image" content="https://omgnetwork.github.io/img/logo/omg-blue.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://omgnetwork.github.io/img/logo/omg-blue.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-154130721-1"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-154130721-1');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"/><script type="text/javascript" src="js/typeform.js"></script><script type="text/javascript" src="js/g-tag.js"></script><script type="text/javascript" src="js/h-jar.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="js/intercom.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo/omg-white.svg" alt="OMG Network"/></a><a href="/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/next/welcome" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/next/api" target="_self">APIs</a></li><li class="siteNavGroupActive"><a href="/next/environments" target="_self">Environments</a></li><li class=""><a href="https://omg.network" target="_blank">Product</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Network</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/welcome">About the OMG Network</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Network</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/network/start">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/next/network/balances">Retrieve Balances</a></li><li class="navListItem"><a class="navItem" href="/next/network/deposits">Deposit Funds</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/next/network/transfers">Make a Transfer</a></li><li class="navListItem"><a class="navItem" href="/next/network/standard-exits">Start a Standard Exit</a></li><li class="navListItem"><a class="navItem" href="/next/network/in-flight-exits">Start an In-flight Exit</a></li><li class="navListItem"><a class="navItem" href="/next/network/process-exits">Process an Exit</a></li><li class="navListItem"><a class="navItem" href="/next/network/utxos">Merge or Split UTXO</a></li><li class="navListItem"><a class="navItem" href="/next/network/challenge-exits">Challenge an Exit</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Wallet</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/wallet/quick-start-webwallet">Web Wallet Quick Start</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Contracts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/contracts/plasma-proposition">Plasma Proposition</a></li><li class="navListItem"><a class="navItem" href="/next/contracts/admin-accounts">Administrative Accounts</a></li><li class="navListItem"><a class="navItem" href="/next/contracts/morevp">MoreVP Technical Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Watcher</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/watcher/run-watcher-locally">Run Watcher Locally</a></li><li class="navListItem"><a class="navItem" href="/next/watcher/run-watcher-vps">Run a Watcher on VPS</a></li><li class="navListItem"><a class="navItem" href="/next/watcher/manage-vps">Manage a VPS</a></li><li class="navListItem"><a class="navItem" href="/next/watcher/manage-watcher">Manage a Watcher</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Security</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/security/bug-bounty">Bug Bounty Program</a></li><li class="navListItem"><a class="navItem" href="/next/security/audits">Contracts Audits</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">3-rd Party</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/3rd-party/metamask">MetaMask</a></li><li class="navListItem"><a class="navItem" href="/next/3rd-party/multibaas">MultiBaas</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Concepts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/network/blockchain-design">Blockchain Design</a></li><li class="navListItem"><a class="navItem" href="/next/network/byzantine-conditions">Byzantine Conditions</a></li><li class="navListItem"><a class="navItem" href="/next/network/network-architecture">Network Architecture</a></li><li class="navListItem"><a class="navItem" href="/next/network/challenge-period">Challenge Period</a></li><li class="navListItem"><a class="navItem" href="/next/network/exitbonds">Exit Bonds</a></li><li class="navListItem"><a class="navItem" href="/next/network/fees">Fees</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Resources</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/glossary">Glossary</a></li><li class="navListItem"><a class="navItem" href="/next/faq">FAQ</a></li><li class="navListItem"><a class="navItem" href="/next/api">API References</a></li><li class="navListItem"><a class="navItem" href="/next/environments">Environments</a></li><li class="navListItem"><a class="navItem" href="/next/release-notes">Release Notes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Migration Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/next/migration-0.2-0.3">0.2 to 0.3</a></li><li class="navListItem"><a class="navItem" href="/next/migration-0.3-0.4">0.3 to 0.4</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Make a Transfer</h1></header><article><div><span><p>A transfer involves one wallet sending tokens to another wallet on the OMG Network.</p>
<h2><a class="anchor" aria-hidden="true" id="implementation"></a><a href="#implementation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implementation</h2>
<h3><a class="anchor" aria-hidden="true" id="1-install-omg-jshttpsgithubcomomgnetworkomg-js"></a><a href="#1-install-omg-jshttpsgithubcomomgnetworkomg-js" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Install <a href="https://github.com/omgnetwork/omg-js"><code>omg-js</code></a></h3>
<p>To access network features from your application, use our official libraries:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-52-tab-53" class="nav-link active" data-group="group_52" data-tab="tab-group-52-content-53">Node</div><div id="tab-group-52-tab-54" class="nav-link" data-group="group_52" data-tab="tab-group-52-content-54">Browser</div><div id="tab-group-52-tab-55" class="nav-link" data-group="group_52" data-tab="tab-group-52-content-55">React Native</div></div><div class="tab-content"><div id="tab-group-52-content-53" class="tab-pane active" data-group="group_52" tabindex="-1"><div><span><p>Requires Node &gt;= 8.11.3 &lt; 13.0.0</p>
<pre><code class="hljs css language-js">npm install @omisego/omg-js<br /></code></pre>
</span></div></div><div id="tab-group-52-content-54" class="tab-pane" data-group="group_52" tabindex="-1"><div><span><p>You can add <code>omg-js</code> to a website using a script tag:</p>
<pre><code class="hljs css language-js">&lt;script src="https://unpkg.com/@omisego/browser-omg-js"&gt;&lt;/script&gt;<br /></code></pre>
</span></div></div><div id="tab-group-52-content-55" class="tab-pane" data-group="group_52" tabindex="-1"><div><span><p>You can easily integrate <code>omg-js</code> with React Native projects. First, add this postinstall script to your project's <code>package.json</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-string">"scripts"</span>: {<br />    <span class="hljs-string">"postinstall"</span>: <span class="hljs-string">"omgjs-nodeify"</span><br />}<br /></code></pre>
<p>Then install the react native compatible library:</p>
<pre><code class="hljs css language-js">npm install @omisego/react-native-omg-js<br /></code></pre>
</span></div></div></div></div>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-56-tab-57" class="nav-link active" data-group="group_56" data-tab="tab-group-56-content-57">JavaScript (ESNext)</div></div><div class="tab-content"><div id="tab-group-56-content-57" class="tab-pane active" data-group="group_56" tabindex="-1"><div><span><h3><a class="anchor" aria-hidden="true" id="2-import-dependencies"></a><a href="#2-import-dependencies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Import dependencies</h3>
<p>Transferring funds to the OMG Network involves using 2 <code>omg-js</code> objects. Here's an example of how to instantiate them:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> Web3 <span class="hljs-keyword">from</span> <span class="hljs-string">"web3"</span>;<br /><span class="hljs-keyword">import</span> { ChildChain, OmgUtil } <span class="hljs-keyword">from</span> <span class="hljs-string">"@omisego/omg-js"</span>;<br /><br /><span class="hljs-keyword">const</span> web3 = <span class="hljs-keyword">new</span> Web3(<span class="hljs-keyword">new</span> Web3.providers.HttpProvider(web3_provider_url));<br /><span class="hljs-keyword">const</span> childChain = <span class="hljs-keyword">new</span> ChildChain({ watcherUrl });<br /></code></pre>
<blockquote>
<ul>
<li><code>web3_provider_url</code> - the URL to a full Ethereum RPC node (local or from infrastructure provider, e.g. <a href="https://infura.io/">Infura</a>).</li>
<li><code>watcherUrl</code> - the Watcher Info URL for defined <a href="/environments">environment</a> (personal or from OMG Network).</li>
</ul>
</blockquote>
<p>There are several ways to send a transaction on the OMG Network. It's recommended to use the first method but you may want to choose another approach for your specific use case.</p>
<h3><a class="anchor" aria-hidden="true" id="3-send-a-payment-transaction"></a><a href="#3-send-a-payment-transaction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Send a payment transaction</h3>
<p>Transactions are composed of inputs and outputs. An input is simply a pointer to the output of another transaction. An output is a transaction that hasn't been spent yet (also known as UTXO). Each transaction should be signed by the owner of funds (UTXOs), have a specific format, and encoded with <a href="https://github.com/ethereum/wiki/wiki/RLP">RLP encoding</a> according to the following rules:</p>
<pre><code class="hljs">[txType, inputs, outputs, txData, metaData]<br /><br />txType ::= uint256<br />inputs ::= [input]<br />input ::= bytes32<br />outputs ::= [output]<br />output ::= [outputType, outputData]<br />outputType ::= uint256<br />outputData ::= [outputGuard, token, amount]<br />outputGuard ::= bytes20<br />token ::= bytes20<br />amount ::= uint256<br />txData ::= uint256 (must be 0)<br />metadata ::= bytes32<br /></code></pre>
<p>Transactions are signed using the <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-712.md">EIP-712</a> method. The EIP-712 typed data structure is defined as follows:</p>
<pre><code class="hljs">{<br />  <span class="hljs-attribute">types</span>: {<br />    <span class="hljs-attribute">EIP712Domain</span>: [<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'name'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'string'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'version'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'string'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'verifyingContract'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'address'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'salt'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'bytes32'</span> }<br />    ],<br />    <span class="hljs-attribute">Transaction</span>: [<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'txType'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'uint256'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'input0'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Input'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'input1'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Input'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'input2'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Input'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'input3'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Input'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'output0'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Output'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'output1'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Output'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'output2'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Output'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'output3'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'Output'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'txData'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'uint256'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'metadata'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'bytes32'</span> }<br />    ],<br />    <span class="hljs-attribute">Input</span>: [<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'blknum'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'uint256'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'txindex'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'uint256'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'oindex'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'uint256'</span> }<br />    ],<br />    <span class="hljs-attribute">Output</span>: [<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'outputType'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'uint256'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'outputGuard'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'bytes20'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'currency'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'address'</span> },<br />        { <span class="hljs-attribute">name</span>: <span class="hljs-string">'amount'</span>, <span class="hljs-attribute">type</span>: <span class="hljs-string">'uint256'</span> }<br />    ]<br />  },<br />  <span class="hljs-attribute">domain</span>: {<br />        <span class="hljs-attribute">name</span>: <span class="hljs-string">'OMG Network'</span>,<br />        <span class="hljs-attribute">version</span>: <span class="hljs-string">'1'</span>,<br />        <span class="hljs-attribute">verifyingContract</span>: <span class="hljs-string">''</span>,<br />        <span class="hljs-attribute">salt</span>: <span class="hljs-string">'0xfad5c7f626d80f9256ef01929f3beb96e058b8b4b0e3fe52d84f054c0e2a7a83'</span><br />    },<br />  <span class="hljs-attribute">primaryType</span>: <span class="hljs-string">'Transaction'</span><br />}<br /></code></pre>
<p>Note, the child chain server collects fees for sending a transaction. The fee can be paid in a variety of supported tokens by the network. To get more details on how the fees are defined, please refer to <a href="/network/fees">Fees</a>.</p>
<h4><a class="anchor" aria-hidden="true" id="31-method-a"></a><a href="#31-method-a" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.1 Method A</h4>
<p>The most &quot;granular&quot; implementation of transfer includes creating, typing, signing and submitting the transaction. Such an approach will have the following structure of the code:</p>
<blockquote>
<p>This method demonstrates a transfer made in ETH. If you want to make an ERC20 transfer, change the <code>currency</code> value to a corresponding smart contract address.</p>
</blockquote>
<pre><code class="hljs css language-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transfer</span>(<span class="hljs-params"></span>) </span>{<br />  <span class="hljs-comment">// construct a transaction body</span><br />  <span class="hljs-keyword">const</span> transactionBody = <span class="hljs-keyword">await</span> childChain.createTransaction({<br />    <span class="hljs-attr">owner</span>: <span class="hljs-string">"0x8CB0DE6206f459812525F2BA043b14155C2230C0"</span>,<br />    <span class="hljs-attr">payments</span>: [<br />      {<br />        <span class="hljs-attr">owner</span>: <span class="hljs-string">"0xA9cc140410c2bfEB60A7260B3692dcF29665c254"</span>,<br />        <span class="hljs-attr">currency</span>: OmgUtil.transaction.ETH_CURRENCY,<br />        <span class="hljs-attr">amount</span>: <span class="hljs-string">"350000000000000"</span>,<br />      },<br />    ],<br />    <span class="hljs-attr">fee</span>: {<br />      <span class="hljs-attr">currency</span>: OmgUtil.transaction.ETH_CURRENCY<br />    },<br />    <span class="hljs-attr">metadata</span>: <span class="hljs-string">"data"</span>,<br />  });<br /><br />  <span class="hljs-comment">// sanitize transaction into the correct typedData format</span><br />  <span class="hljs-comment">// the second parameter is the address of the RootChain contract</span><br />  <span class="hljs-keyword">const</span> typedData = OmgUtil.transaction.getTypedData(<br />    transactionBody.transactions[<span class="hljs-number">0</span>],<br />    <span class="hljs-string">"0x96d5d8bc539694e5fa1ec0dab0e6327ca9e680f9"</span><br />  );<br /><br />  <span class="hljs-comment">// define private keys to use for transaction signing</span><br />  <span class="hljs-keyword">const</span> privateKeys = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<br />    transactionBody.transactions[<span class="hljs-number">0</span>].inputs.length<br />  ).fill(<span class="hljs-string">"0xCD55F2A7C476306B27315C7986BC50BD81DB4130D4B5CFD49E3EAF9ED1EDE4F7"</span>);<br /><br />  <span class="hljs-comment">// locally sign typedData with passed private keys, useful for multiple different signatures</span><br />  <span class="hljs-keyword">const</span> signatures = childChain.signTransaction(typedData, privateKeys);<br /><br />  <span class="hljs-comment">// return encoded and signed transaction ready to be submitted</span><br />  <span class="hljs-keyword">const</span> signedTxn = childChain.buildSignedTransaction(typedData, signatures);<br /><br />  <span class="hljs-comment">// submit to the child chain</span><br />  <span class="hljs-keyword">return</span> childChain.submitTransaction(signedTxn);<br />}<br /></code></pre>
<h4><a class="anchor" aria-hidden="true" id="32-method-b"></a><a href="#32-method-b" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.2 Method B</h4>
<p>Another option relies on the child chain completely to create and send the transaction. Note that this method will choose the UTXO for you by using the largest UTXO of that specific currency. Also, you won't able to do 2 transactions in the same block using this method.</p>
<blockquote>
<p>This method demonstrates a transfer made in ERC20. If you want to make an ETH transfer, change the <code>currency</code> value to <code>OmgUtil.transaction.ETH_CURRENCY</code>.</p>
</blockquote>
<pre><code class="hljs css language-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transfer</span>(<span class="hljs-params"></span>) </span>{<br />  <span class="hljs-comment">// construct a transaction body</span><br />  <span class="hljs-keyword">const</span> transactions = <span class="hljs-keyword">await</span> childChain.createTransaction({<br />    <span class="hljs-attr">owner</span>: <span class="hljs-string">"0x8CB0DE6206f459812525F2BA043b14155C2230C0"</span>,<br />    <span class="hljs-attr">payments</span>: [<br />      {<br />        <span class="hljs-attr">owner</span>: <span class="hljs-string">"0xA9cc140410c2bfEB60A7260B3692dcF29665c254"</span>,<br />        <span class="hljs-attr">currency</span>: <span class="hljs-string">"0xd74ef52053204c9887df4a0e921b1ae024f6fe31"</span>,<br />        <span class="hljs-attr">amount</span>: <span class="hljs-string">"350000000000000"</span>,<br />      },<br />    ],<br />    <span class="hljs-attr">fee</span>: {<br />      <span class="hljs-attr">currency</span>: OmgUtil.transaction.ETH_CURRENCY,<br />    },<br />    <span class="hljs-attr">metadata</span>: <span class="hljs-string">"data"</span>,<br />  });<br /><br />  <span class="hljs-comment">// define private keys to use for transaction signing</span><br />  <span class="hljs-keyword">const</span> privateKeys = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(transactions[<span class="hljs-number">0</span>].inputs.length).fill(<br />    <span class="hljs-string">"0xCD55F2A7C476306B27315C7986BC50BD81DB4130D4B5CFD49E3EAF9ED1EDE4F7"</span><br />  );<br /><br />  <span class="hljs-comment">// locally sign a transaction</span><br />  <span class="hljs-keyword">const</span> signedTypedData = childchain.signTypedData(<br />    transactions[<span class="hljs-number">0</span>],<br />    privateKeys<br />  );<br /><br />  <span class="hljs-comment">// submit the result of signTypedData</span><br />  <span class="hljs-keyword">return</span> childChain.submitTyped(signedTypedData);<br />}<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="lifecycle"></a><a href="#lifecycle" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lifecycle</h2>
<ol>
<li>A user calls the <code>createTransaction</code> function to create a transaction.</li>
<li>A user signs, encodes, and submits the transaction's data to the child chain and the Watcher for validation.</li>
<li>If the transaction is valid, the child chain server creates a transaction hash and adds the transaction to a pending block.</li>
<li>The child chain bundles the transactions in the block into a Merkle tree and submits its root hash to the <code>Plasma Framework</code> contract.</li>
<li>The Watcher receives a list of transactions from the child chain and recomputes the Merkle root to check for any inconsistency.</li>
</ol>
<blockquote>
<p>The following conditions would cause the Watcher or the child chain to reject the transaction as invalid:</p>
<ul>
<li>The transaction is using inputs used for another transaction in the block.</li>
<li>The transaction is using inputs spent in any prior block.</li>
<li>The transaction is using inputs that were exited.</li>
<li>The transaction is using inputs from a non-validated deposit.</li>
<li>The transaction is signed with an invalid signature.</li>
</ul>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="demo-project"></a><a href="#demo-project" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Demo Project</h2>
<p>This section provides a demo project that contains a detailed implementation of the tutorial. If you consider integrating with the OMG Network, you can use this sample to significantly reduce the time of development. It also provides step-by-step instructions and sufficient code guidance that is not covered on this page.</p>
<h3><a class="anchor" aria-hidden="true" id="javascript"></a><a href="#javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JavaScript</h3>
<p>For running a full <code>omg-js</code> code sample for the tutorial, please use the following steps:</p>
<ol>
<li>Clone <a href="https://github.com/omgnetwork/omg-js-samples">omg-js-samples</a> repository:</li>
</ol>
<pre><code class="hljs">git <span class="hljs-keyword">clone</span> <span class="hljs-title">https</span>://github.com/omgnetwork/omg-js-samples.git
</code></pre>
<ol start="2">
<li><p>Create <code>.env</code> file and provide the <a href="https://github.com/omgnetwork/omg-js-samples/tree/master#setup">required configuration values</a>.</p></li>
<li><p>Run these commands:</p></li>
</ol>
<pre><code class="hljs"><span class="hljs-built_in">npm</span> install
<span class="hljs-built_in">npm</span> run start
</code></pre>
<ol start="4">
<li><p>Open your browser at <a href="http://localhost:3000">http://localhost:3000</a>.</p></li>
<li><p>Select <a href="https://github.com/omgnetwork/omg-js-samples/tree/master/app/03-transaction-eth"><code>Make an ETH Transaction</code></a> or <a href="https://github.com/omgnetwork/omg-js-samples/tree/master/app/03-transaction-erc20"><code>Make an ERC20 Transaction</code></a> on the left side, observe the logs on the right.</p></li>
</ol>
<blockquote>
<p>Code samples for all tutorials use the same repository — <code>omg-js-samples</code>, thus you have to set up the project and install dependencies only one time.</p>
</blockquote>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/next/network/deposits"><span class="arrow-prev">← </span><span>Deposit Funds</span></a><a class="docs-next button" href="/next/network/standard-exits"><span>Start a Standard Exit</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#implementation">Implementation</a><ul class="toc-headings"><li><a href="#1-install-omg-jshttpsgithubcomomgnetworkomg-js">1. Install <a href="https://github.com/omgnetwork/omg-js"><code>omg-js</code></a></a></li><li><a href="#2-import-dependencies">2. Import dependencies</a></li><li><a href="#3-send-a-payment-transaction">3. Send a payment transaction</a></li></ul></li><li><a href="#lifecycle">Lifecycle</a></li><li><a href="#demo-project">Demo Project</a><ul class="toc-headings"><li><a href="#javascript">JavaScript</a></li></ul></li></ul></nav></div><div class="footer-content"><div class="footer-wrapper"><div class="footer-column"><span class="footer-title">Getting Started</span><span class="footer-item"><a href="/contracts/morevp">MoreVP Architecture</a></span><span class="footer-item"><a href="/wallet/quick-start-webwallet">Web Wallet Quick Start</a></span><span class="footer-item"><a href="https://github.com/omgnetwork/web-wallet">Web Wallet Code</a></span><span class="footer-item"><a href="https://github.com/omgnetwork/omg-js-samples">omg-js samples</a></span></div><div class="footer-column"><span class="footer-title">API References</span><span class="footer-item"><a href="https://docs.omg.network/elixir-omg/docs-ui/?urls.primaryName=master%2Finfo_api_specs">Watcher
Informational API</a></span><span class="footer-item"><a href="https://docs.omg.network/elixir-omg/docs-ui/?urls.primaryName=master%2Fsecurity_critical_api_specs">Watcher
Security Critical API</a></span><span class="footer-item"><a href="https://docs.omg.network/elixir-omg/docs-ui/">Child Chain API</a></span></div><div class="footer-column"><span class="footer-title">Integration Docs</span><span class="footer-item"><a href="https://github.com/omgnetwork/elixir-omg/blob/master/README.md">Elixir-omg</a></span><span class="footer-item"><a href="https://github.com/omgnetwork/omg-js/blob/master/README.md">Omg-js</a></span><span class="footer-item"><a href="/network/start">Tutorials</a></span><span class="footer-item"><a href="https://github.com/omgnetwork/plasma-contracts">Plasma Contracts</a></span></div><div class="footer-column"><span class="footer-title">Resources</span><span class="footer-item"><a href="https://omg.eco/blockexplorer">Block Explorer</a></span><span class="footer-item"><a href="https://www.omg.network">OMG Network</a></span><span class="footer-item"><a href="https://github.com/omgnetwork">Github</a></span></div><div class="footer-column"><span class="footer-title">Follow us</span><span class="footer-item"><a href="https://twitter.com/omgnetworkhq"><img src="/img/social/twitter.svg" alt="twitter" class="footer-social"/></a><a href="https://www.linkedin.com/company/omgnetwork/"><img src="/img/social/linkedin.svg" alt="linkedin" class="footer-social"/></a><a href="https://github.com/omgnetwork"><img src="/img/social/github.svg" alt="github" class="footer-social"/></a><br/> <br/><span class="footer-copyright">© 2019-present OMG Network.
All rights reserved</span></span></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'af8e7b1e7bcb8af0f31e1c3aca2f8d16',
                indexName: 'omisego',
                inputSelector: '#search_input_react'
              });
            </script></body></html>